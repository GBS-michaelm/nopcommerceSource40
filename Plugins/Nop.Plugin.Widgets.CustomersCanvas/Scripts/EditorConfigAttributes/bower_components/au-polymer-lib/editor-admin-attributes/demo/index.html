<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
    <title>cc-admin-panel demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=no">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.34.2/es6-shim.min.js"></script>
    <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../editor-admin.html">
    <script src="../editor-admin-driver.js"></script>
</head>

<body>
    <script>
    document.addEventListener("DOMContentLoaded", function(event) {
        var parent = $("#editor");
        var configText = {
            "title": "Single Page Product with Mockup (Down)",
            "name": "single-page-mockup",
            "version": "0.0.4",
            "config": {
                "productDefinition": {
                    "surfaces": [{
                        "printAreas": [{
                            "designFile": "%product.attributes.#attributeNames.template#%",
                            "designFile2": "%product.attributes.#attributeNames.template2#%",
                            "designLocation": {
                                "X": "%product.attributes.#attributeNames.positionX#%",
                                "Y": "%product.attributes.#attributeNames.positionY#%"
                            }
                        }],
                        "mockup": {
                            "down": "%product.attributes.#attributeNames.mockup#%"
                        }
                    }]
                },
                "attributeNames": {
                    "template": {
                        "name": "Template",
                        "settings": {
                            "type": "design"
                        }
                    },
                    "template2": {
                        "name": "Template2",
                        "settings": {
                            "type": "number"
                        }
                    },
                    "mockup": {
                        "name": "Mockup",
                        "settings": {
                            "type": "list",
                            "values": ["Christmas", "St. Patricks Day", "Easter", "Birthday"]
                        }
                    },
                    "positionX": {
                        "name": "Position X",
                        "settings": {
                            "type": "text"

                        },
                    },
                    "positionY": {
                        "name": "Position Y",
                        "settings": {
                            "type": "mockupFolder"
                        },
                    }
                },
                "editorConfig": {
                    "initialMode": "Simple",
                    "restoreProductOnReloadEnabled": "false",
                    "widgets": {
                        "FinishButton": {
                            "mode": "Disabled"
                        }
                    }
                },
                "steps": {
                    "editor": {
                        "heading": "Personalize %product.title%",
                        "buttons": {
                            "finish": "Finish"
                        }
                    },
                    "approve": {
                        "confirmDialog": {
                            "heading": "Before you continue... a quick proofing checklist",
                            "checklist": [
                                "Check all sides of the proof",
                                "Check all spelling and grammar is correct",
                                "Check all sample text is removed"
                            ],
                            "buttons": {
                                "ok": "Accept",
                                "cancel": "Back"
                            }
                        },
                        "buttons": {
                            "continue": "Continue editing",
                            "approve": "Approve design"
                        },
                        "heading": "Approve your design",
                        "text": "Please check these images carefully, whether there are no misprints or errors. By proceeding you confirm that you are responsible for all mistakes in this design, and any problems with design are not subject for the refund.",
                        "preview": {
                            "width": 500,
                            "height": 500
                        }
                    }
                }
            }
        };
        var configText2 = {
            "title": "Single Page Products",
            "name": "single-page",
            "version": "0.0.3",
            "config": {
                "productDefinition": {
                    "surfaces": [
                        "%product.attributes.Template%"
                    ]
                },
                "editorConfig": {
                    "initialMode": "Simple",
                    "restoreProductOnReloadEnabled": "false",
                    "widgets": {
                        "FinishButton": {
                            "mode": "Disabled"
                        }
                    }
                },
                "steps": {
                    "editor": {
                        "heading": "Personalize %product.title%",
                        "buttons": {
                            "finish": "Finish"
                        }
                    },
                    "approve": {
                        "confirmDialog": {
                            "heading": "Before you continue... a quick proofing checklist",
                            "checklist": [
                                "Check all sides of the proof",
                                "Check all spelling and grammar is correct",
                                "Check all sample text is removed"
                            ],
                            "buttons": {
                                "ok": "Accept",
                                "cancel": "Back"
                            }
                        },
                        "buttons": {
                            "continue": "Continue editing",
                            "approve": "Approve design"
                        },
                        "heading": "Approve your design",
                        "text": "Please check these images carefully, whether there are no misprints or errors. By proceeding you confirm that you are responsible for all mistakes in this design, and any problems with design are not subject for the refund.",
                        "preview": {
                            "width": 500,
                            "height": 500
                        }
                    }
                }
            }
        };
        var elem = document.createElement("editor-admin");
        var editors = [{
            "Title": "Base",
            "AllConfigs": [{
                "Title": "first",
                "Json": JSON.stringify(configText)
            }, {
                "Title": "second",
                "Json": JSON.stringify(configText2)
            }]
        }, {
            "Title": "Base2",
            "AllConfigs": [{
                "Title": "second",
                "Json": JSON.stringify(configText2)
            }, {
                "Title": "first",
                "Json": JSON.stringify(configText)
            }]
        }];
        elem.setAttribute("product-id", 1);
        elem.driver = window["editorAdminDriver"];
        elem.ccUrl = "https://h2.customerscanvas.com/Users/andrew";
        elem.editors = editors;
        elem.initEditorValue = "Base2";
        elem.initConfigValue = "first";
        elem.defaultValues = [{ name: "Template2", value: "4" }];
        parent.empty();
        parent.append(elem);
    });

    window.onerror = function(e) {
        console.dir(e);
        console.log("my error");
    }
    </script>
    <div id="editor"></div>
</body>

</html>
